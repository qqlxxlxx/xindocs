---
outline: deep
title: '预加载使用场景'
---

# preload 和 prefetch

preload 和 prefetch 是两种浏览器资源加载优化策略，它们用于提高页面加载性能，但它们的使用场景和目的有所不同。

## 1. preload

preload 是一种提前加载资源的方法，用于确保某些关键资源（如脚本、样式表、字体、图片等）在页面渲染之前尽早加载。这对于加速页面的首屏渲染或某些重要功能的启动非常有用。

**使用场景：**

- **关键资源：** 用于加载对页面渲染至关重要的资源。例如，如果你需要在页面加载时马上执行某个 JavaScript 文件，可以通过 preload 来提前加载。

- **性能优化：** 在用户操作前加载资源，比如为某个按钮点击事件准备的脚本文件。
  避免阻塞渲染：如果某个文件是必需的，但在 HTML 解析过程中会被延迟加载，使用 preload 可以使其尽早加载，以避免延迟。

示例：

```html
<link rel="preload" href="/path/to/important-script.js" as="script" />
```

在这个例子中，important-script.js 将被提前加载，确保它可以尽早被执行。

## 2. prefetch

prefetch 是一种用于在浏览器空闲时提前加载资源的策略，它不会立即影响当前页面的渲染过程，而是为未来可能需要的资源进行预加载。通常用于用户即将导航到的页面或其他资源。

**使用场景：**

- **未来需求：** 预加载用户未来可能访问的页面或资源。比如，用户可能会在当前页面点击某个链接跳转到另一个页面，可以使用 prefetch 提前加载该页面的资源。
- **页面跳转：** 当你知道用户很可能在不久的将来访问其他页面时（例如点击导航栏中的链接），可以通过 prefetch 预加载目标页面的资源，减少跳转时的等待时间。
- **资源提前准备：** 用于加载将来会用到的图片、脚本、样式等，以提升用户体验。

示例：

```html
<link rel="prefetch" href="/next-page.html" />
```

在这个例子中，next-page.html 会在当前页面空闲时被预加载，准备用户访问时快速展示内容。

## 主要区别：

预加载时机：preload 会优先加载资源，以便页面渲染时能立即使用；prefetch 则会在空闲时加载，用于将来可能需要的资源。

影响优先级：preload 会阻塞页面渲染，直到资源加载完成，而 prefetch 不会阻塞当前页面的渲染过程。

## 总结：

使用 preload 来提前加载关键资源，确保它们在页面渲染时就可以立即使用。

使用 prefetch 来提前加载未来可能需要的资源，优化后续页面的加载时间。
